# CorteCerto â€“ Controle simples de perdas na colheita de cana

Projeto **iniciante** em Python para registrar operaÃ§Ãµes de colheita de cana-de-aÃ§Ãºcar, **estimar perdas**, gerar **relatÃ³rios em TXT**, salvar dados em **JSON** e (opcionalmente) enviar os registros para um banco **Oracle**.

> ğŸ§­ Tema do AgronegÃ³cio: **Perdas na colheita de cana** â€“ dor recorrente que reduz produtividade e margens.  
> ğŸ¯ Objetivo: dar visibilidade rÃ¡pida das perdas por talhÃ£o/equipe/colhedora e sugerir aÃ§Ãµes simples de melhoria.

---

## Como este projeto atende a disciplina (Cap. 3â€“6)

- **Subalgoritmos (funÃ§Ãµes e procedimentos, com parÃ¢metros):** ver `src/*.py` (ex.: `add_operacao`, `calcular_kpis`, `gerar_relatorio_txt`).
- **Estruturas de dados:** listas, tuplas e dicionÃ¡rios (lista de operaÃ§Ãµes como â€œtabelaâ€ em memÃ³ria).
- **ManipulaÃ§Ã£o de arquivos:** leitura/gravaÃ§Ã£o **JSON** (`data/operacoes.json`) e geraÃ§Ã£o de **TXT** em `reports/`.
- **ConexÃ£o com banco de dados (Oracle):** mÃ³dulo `oracle_db.py` com exemplo usando `cx_Oracle` (**opcional**).
  - O sistema roda mesmo **sem Oracle**; se quiser integrar, preencha `data/config.json` e ative o envio.

---

## CenÃ¡rio simples (o que o app faz)

1. Cadastrar operaÃ§Ã£o de colheita: data, talhÃ£o, equipe, colhedora e **estimativa de perda (%)**.
2. Listar operaÃ§Ãµes e **KPIs** (mÃ©dia de perdas por talhÃ£o/equipe/colhedora).
3. Gerar **relatÃ³rio TXT** com ranking e **sugestÃµes de melhoria** (boas prÃ¡ticas).
4. (Opcional) Enviar registros para **Oracle** (INSERT) quando configurado.

> **Obs.** Estimativa de perda pode vir de amostragens simples em campo (ex.: sacos coletados de pontas/perdas) â€“ aqui digitada manualmente para ser **iniciante**.

---

## Como rodar

### 1) PrÃ©-requisitos
- Python 3.9+
- (Opcional) Oracle Client + `cx_Oracle` se quiser integraÃ§Ã£o com banco.

### 2) Instalar dependÃªncias
```bash
pip install -r requirements.txt
```

> Se **nÃ£o** for usar Oracle, vocÃª pode comentar/remover `cx_Oracle` do `requirements.txt`.

### 3) Executar
```bash
python src/main.py
```

### 4) (Opcional) Oracle
- Edite `data/config.json`:
```json
{
  "oracle": {
    "enabled": false,
    "dsn": "host:porta/servico",
    "user": "USUARIO",
    "password": "SENHA",
    "table": "OPERACOES_COLHEITA"
  }
}
```
- Crie a tabela (exemplo):
```sql
CREATE TABLE OPERACOES_COLHEITA (
  ID           NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  DATA         DATE,
  TALHAO       VARCHAR2(100),
  EQUIPE       VARCHAR2(100),
  COLHEDORA    VARCHAR2(100),
  PERDA_PCT    NUMBER(5,2),
  OBSERVACOES  VARCHAR2(400)
);
```

---

## Estrutura do repositÃ³rio

```
agro-colheita-simples/
â”œâ”€ README.md
â”œâ”€ requirements.txt
â”œâ”€ data/
â”‚  â”œâ”€ operacoes.json
â”‚  â””â”€ config.json
â”œâ”€ reports/
â”‚  â””â”€ exemplo-relatorio.txt
â””â”€ src/
   â”œâ”€ main.py
   â”œâ”€ models.py
   â”œâ”€ storage.py
   â”œâ”€ reports.py
   â”œâ”€ validators.py
   â”œâ”€ oracle_db.py
   â””â”€ menus.py
```

---

## Fluxo (linha lÃ³gica clara)

1. **Menu** â†’ usuÃ¡rio escolhe aÃ§Ã£o (cadastrar, listar, KPIs, relatÃ³rio, enviar p/ Oracle).
2. **ValidaÃ§Ã£o** â†’ entrada de dados com checagem de tipos/intervalos.
3. **Armazenamento** â†’ salva/consulta em `operacoes.json` (lista de dicionÃ¡rios).
4. **KPIs/RelatÃ³rio** â†’ funÃ§Ãµes processam a â€œtabelaâ€ em memÃ³ria e geram TXT.
5. **Oracle (opcional)** â†’ envia registros pendentes por INSERT.

---

## Usabilidade
- CLI simples e direta (sem dependÃªncias pesadas).
- Textos claros e validaÃ§Ã£o para evitar erros comuns.
- RelatÃ³rio pronto em `reports/` para anexar no trabalho.

---

## InovaÃ§Ã£o (nÃ­vel iniciante)
- Foco em **visibilidade rÃ¡pida** de perdas e **sugestÃµes automÃ¡ticas** (boas prÃ¡ticas).
- Podem evoluir depois com sensores/IoT, visÃ£o computacional etc. (fora do escopo iniciante).

---

## LicenÃ§a
MIT
